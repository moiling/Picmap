# 基于Python的相片拍摄位置定位及路线推荐设计

题目限制很大，要求使用PyQt，所以最终产品为一款跨平台PC客户端。<br/>
非要做的话，就不从用户的角度出发，从功能的角度出发。<br/>
可以把题目划分为两个大模块，即「**相片拍摄位置定位**」与「**路线推荐设计**」。

## 一、基础

列举已有的资源，工具等。

### 1.1 PyQt

实现跨平台PC客户端编写，美观度暂时不能保证。有**QWebView**可以渲染Html，调用Js等操作，为高德地图Api调用提供条件。

### 1.2 Piexif

提供读取/修改图片Exif信息操作。

### 1.3 高德API

#### 1.3.1 地图组件

[地图组件](https://lbs.amap.com/api/lightmap/gettingstarted)调用比较方便，但是功能极其有，而且返回的是整个高德地图的网页，不推荐使用组件。

#### 1.3.2  URL API

[URL API](https://lbs.amap.com/api/uri-api/summary)比较适合PC端开发，但功能依旧少。

#### 1.3.3 JS API
[JS API](https://lbs.amap.com/api/javascript-api/summary)功能全，但问题在于不知道QWebView能不能调用JS API，当然也写个服务端，就是不管怎样用起来都很麻烦。

#### 1.3.4 可视化 API
[可视化 API](https://lbs.amap.com/api/loca-api/prod_intro)也是JS的，可以自定义地图数据。

## 二、可扩展功能

列举**相片拍摄位置定位**」与「**路线推荐设计**」两大模块可以扩展的功能。

### 2.1 相片拍摄位置定位

这部分操作很难玩出什么花来，步骤极其简单：
1. 读照片
2. 解析Exif
3. 显示定位

#### 2.1.1 读照片

「读照片」操作可以扩展如下功能：
1. 照片归档/整理
    > 将读取过的照片，或者指定文件夹中的照片按照拍摄时间/地点等整理。
2. 照片地点可视化
    > 调用高德可视化API，将拍照地点显示在地图上，并可以做一些数据分析

#### 2.1.2 解析Exif

1. 写入地点信息
    > 选择地图上的点，写入地点信息，但这个不能用URL API做，没法获取地址，不知道JS API能否提供。
2. 写入其他信息

#### 2.1.3 显示定位

1. 显示周边内容

### 2.2 路线推荐设计

路线推荐最简单的就是直接调用高德的导航。<br/>
我认为要加难度的话就是多地点，多条件路线规划。<br/>
其实就是一个线性规划问题。<br/>
但要看JS API能不能给导航时间的数据了，URL API就是个网页，自己解析拿到时间吗？

## 三、使用场景

### 3.1 最基础的功能

喜欢到处玩的人，把去过的地点拍照，分享到朋友圈等地。（答辩时请忽略压缩图片等Exif丢失情况）<br/>
关注的人把图片下载下来，拖进程序中。<br/>
如果是单张照片显示导航，如果是多张照片显示路径规划。<br/>

### 3.2 编辑功能

有些时候去了某地玩，但是没有照片怎么办？或者照片的Exif信息丢失了怎么办？<br/>
程序提供编辑Exif地点信息的功能，给任意图片加上地址信息。<br/>
并且有些好玩的地方有开放时间限制等，在软件中可以写入Exif中，作为路径规划的条件依据。<br/>
为了便于关注的人知道图片是否可以使用该程序进行路径规划，在编辑图片完成后可以加水印，如产品LOGO、作者信息等，表明该图片经过该程序处理。

## 四、目前问题

目前最大的问题有两个：
1. QWebView对JS API的支持程度
    > 如果QWebView不能正常执行JS API的话，以上大部分功能是无法实现的，URL API的功能太少了。
2. JS API的功能能否胜任这些工作
    > 比如能否获取导航时间，这个时间需要用在路径规划中。
3. 路径规划算法
    > 目前感觉不太难，可以先用假数据尝试一下。
